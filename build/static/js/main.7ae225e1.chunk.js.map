{"version":3,"sources":["redux/constants/index.js","redux/reducers/userReducer.js","redux/reducers/emailReducer.js","redux/store.js","api/index.js","redux/actions/clearErrors.js","components/AuthPage/Form/FormLogin.js","redux/actions/accountActions.js","components/AuthPage/Form/FormRegister.js","components/AuthPage/images/gmail.svg","components/AuthPage/AuthPage.js","redux/actions/emailActions.js","components/EmailPage/Header/AccountControls/AccountControls.js","components/EmailPage/Header/EditImageModal/EditImageModal.js","components/EmailPage/Header/Header.js","components/EmailPage/Sidebar/SidebarOption/SidebarOption.js","components/EmailPage/Sidebar/Sidebar.js","components/EmailPage/EmailOptions/EmailOptions.js","components/EmailPage/EmailCategory/EmailListItem/EmailListItem.js","components/EmailPage/EmailCategory/EmailCategory.js","components/EmailPage/EmailView/EmailView.js","components/EmailPage/ComposeMail/ComposeMail.js","components/EmailPage/EmailPage.js","App.js","index.js","components/EmailPage/EmailCategory/styles/EmailCategory.module.css","components/EmailPage/ComposeMail/styles/ComposeMail.module.css","components/EmailPage/Header/styles/Header.module.css","components/EmailPage/Sidebar/styles/Sidebar.module.css","components/EmailPage/EmailCategory/EmailListItem/styles/EmailListItem.module.css","components/AuthPage/Form/styles/Form.module.css","components/AuthPage/styles/AuthPage.module.css","components/EmailPage/Header/EditImageModal/styles/EditImageModal.module.css","components/EmailPage/EmailOptions/styles/EmailOptions.module.css","components/EmailPage/EmailView/styles/EmailView.module.css","components/EmailPage/styles/EmailPage.module.css","components/EmailPage/Header/AccountControls/styles/AccountControls.module.css","components/EmailPage/Sidebar/SidebarOption/styles/SidebarOption.module.css"],"names":["CLEAR_ERRORS","LOGOUT","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_ERROR","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_ERROR","FETCH_USER_REQUEST","FETCH_USER_SUCCESS","FETCH_USER_ERROR","UPLOAD_IMAGE_REQUEST","UPLOAD_IMAGE_SUCCESS","UPLOAD_IMAGE_ERROR","FETCH_EMAILS_REQUEST","FETCH_EMAILS_SUCCESS","FETCH_EMAILS_ERROR","SEND_EMAIL_REQUEST","SEND_EMAIL_SUCCESS","SEND_EMAIL_ERROR","SAVE_DRAFT_REQUEST","SAVE_DRAFT_SUCCESS","SAVE_DRAFT_ERROR","UPDATE_DRAFT_REQUEST","UPDATE_DRAFT_SUCCESS","UPDATE_DRAFT_ERROR","EMAIL_TRASH_REQUEST","EMAIL_TRASH_SUCCESS","EMAIL_TRASH_ERROR","EMAIL_UNTRASH_REQUEST","EMAIL_UNTRASH_SUCCESS","EMAIL_UNTRASH_ERROR","TOGGLE_EMAIL_PROP_REQUEST","TOGGLE_EMAIL_PROP_SUCCESS","TOGGLE_EMAIL_PROP_ERROR","DELETE_EMAIL_REQUEST","DELETE_EMAIL_SUCCESS","DELETE_EMAIL_ERROR","initialState","isLoading","isLoggedIn","token","window","localStorage","getItem","user","error","mailbox","inbox","outbox","drafts","trash","allReducers","combineReducers","userReducer","state","action","type","setItem","console","log","email","payload","profilePicture","emailReducer","copyOfDrafts","i","length","_id","copyOfInbox","copyOfOutbox","isEmailFound","copyOfTrash","copyOfDrafts2","isEmailFound2","splice","store","createStore","composeWithDevTools","applyMiddleware","thunk","logger","url","headers","Authorization","register","form","axios","post","login","uploadImage","image","put","sendEmail","saveDraft","updateDraft","id","moveToTrash","removeFromTrash","markAsRead","markAsUnread","setFavorite","unsetFavorite","deleteEmail","delete","clearErrors","FormLogin","dispatch","useDispatch","useState","click","setClick","useForm","defaultValues","handleSubmit","errors","formState","alert","setTimeout","CircularProgress","color","onSubmit","values","a","response","data","message","className","styles","name","placeholder","ref","required","pattern","minLength","password","Button","disabled","isSubmitting","variant","onClick","FormRegister","watch","useRef","current","firstName","middleName","lastName","validate","value","passwordConfirm","AuthPage","useSelector","isCreateNew","setIsCreateNew","toggleIsCreateNew","useEffect","page","src","GmailIcon","alt","link","getEmailsAction","getState","get","sendEmailAction","sent","received","updateDraftAction","draft","AccountControls","toggleShowEditImage","toggleShowProfile","container","Badge","badgeContent","overlap","anchorOrigin","vertical","horizontal","style","cursor","Avatar","avatar","first","last","EditImageModal","setImage","modal","e","preventDefault","uploadImageAction","base64","multiple","onDone","file","Header","toggleShowSidebar","showProfile","setShowProfile","showEditImage","setShowEditImage","side","IconButton","middle","relative","SidebarOption","Icon","title","number","selected","item","active","fontSize","Sidebar","toggleIsCompose","inboxLength","sentLength","starredLength","draftsLength","trashLength","history","useHistory","location","useLocation","showMore","setShowMore","compose","startIcon","InboxRoundedIcon","push","pathname","StarRoundedIcon","NoteRoundedIcon","SendRoundedIcon","ExpandMoreRoundedIcon","showMore__on","showMore__off","DeleteRoundedIcon","EmailOptions","props","component","wrapper","children","Tooltip","SelectOne","Checkbox","SelectAll","GoBack","goBack","Refetch","MarkUnread","markAsUnreadAction","MarkStar","isStarred","unsetFavoriteAction","setFavoriteAction","PlaceTrash","isInTrash","removeFromTrashAction","moveToTrashAction","Delete","deleteEmailAction","More","EmailCategoryItem","subject","date","isRead","isTrash","isDraft","category","useParams","read","unread","undefined","dateObj","day","Date","getDate","getMonth","dateToString","EmailCategory","starred","userEmail","center","map","from","createdAt","favorite","to","updatedAt","EmailView","find","emailToDisplay","markAsReadAction","ComposeMail","composeDraft","registeredEmail","header","saveDraftAction","inpGroup","htmlFor","readOnly","send","EmailPage","setInbox","setSent","setStarred","setDrafts","setTrash","inboxArr","sentArr","draftsArr","trashArr","starredArr","filter","concat","sort","b","showSidebar","setShowSidebar","isCompose","setIsCompose","setComposeDraft","forEach","main","exact","path","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.7ae225e1.chunk.js","sourcesContent":["export const CLEAR_ERRORS = 'CLEAR_ERRORS';\nexport const LOGOUT = 'LOGOUT';\n\nexport const REGISTER_REQUEST = 'REGISTER_REQUEST';\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\nexport const REGISTER_ERROR = 'REGISTER_ERROR';\n\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_ERROR = 'LOGIN_ERROR';\n\nexport const FETCH_USER_REQUEST = 'FETCH_USER_REQUEST';\nexport const FETCH_USER_SUCCESS = 'FETCH_USER_SUCCESS';\nexport const FETCH_USER_ERROR = 'FETCH_USER_ERROR';\n\nexport const UPLOAD_IMAGE_REQUEST = 'UPLOAD_IMAGE_REQUEST';\nexport const UPLOAD_IMAGE_SUCCESS = 'UPLOAD_IMAGE_SUCCESS';\nexport const UPLOAD_IMAGE_ERROR = 'UPLOAD_IMAGE_ERROR';\n\nexport const FETCH_EMAILS_REQUEST = 'FETCH_EMAILS_REQUEST';\nexport const FETCH_EMAILS_SUCCESS = 'FETCH_EMAILS_SUCCESS';\nexport const FETCH_EMAILS_ERROR = 'FETCH_EMAILS_ERROR';\n\nexport const SEND_EMAIL_REQUEST = 'SEND_EMAIL_REQUEST';\nexport const SEND_EMAIL_SUCCESS = 'SEND_EMAIL_SUCCESS';\nexport const SEND_EMAIL_ERROR = 'SEND_EMAIL_ERROR';\n\nexport const SAVE_DRAFT_REQUEST = 'SAVE_DRAFT_REQUEST';\nexport const SAVE_DRAFT_SUCCESS = 'SAVE_DRAFT_SUCCES';\nexport const SAVE_DRAFT_ERROR = 'SAVE_DRAFT_ERROR';\n\nexport const UPDATE_DRAFT_REQUEST = 'UPDATE_DRAFT_REQUEST';\nexport const UPDATE_DRAFT_SUCCESS = 'UPDATE_DRAFT_SUCCESS';\nexport const UPDATE_DRAFT_ERROR = 'UPDATE_DRAFT_ERROR';\n\nexport const EMAIL_TRASH_REQUEST = 'EMAIL_TRASH_REQUEST';\nexport const EMAIL_TRASH_SUCCESS = 'EMAIL_TRASH_SUCCESS';\nexport const EMAIL_TRASH_ERROR = 'EMAIL_TRASH_ERROR';\n\nexport const EMAIL_UNTRASH_REQUEST = 'EMAIL_UNTRASH_REQUEST';\nexport const EMAIL_UNTRASH_SUCCESS = 'EMAIL_UNTRASH_SUCCESS';\nexport const EMAIL_UNTRASH_ERROR = 'EMAIL_UNTRASH_ERROR';\n\nexport const TOGGLE_EMAIL_PROP_REQUEST = 'TOGGLE_EMAIL_PROP_REQUEST';\nexport const TOGGLE_EMAIL_PROP_SUCCESS = 'TOGGLE_EMAIL_PROP_SUCCESS';\nexport const TOGGLE_EMAIL_PROP_ERROR = 'TOGGLE_EMAIL_PROP_ERROR';\n\nexport const DELETE_EMAIL_REQUEST = 'DELETE_EMAIL_REQUEST';\nexport const DELETE_EMAIL_SUCCESS = 'DELETE_EMAIL_SUCCESS';\nexport const DELETE_EMAIL_ERROR = 'DELETE_EMAIL_ERROR';\n","import {\n  CLEAR_ERRORS,\n  LOGOUT,\n  REGISTER_REQUEST,\n\n  REGISTER_SUCCESS,\n  REGISTER_ERROR,\n\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOGIN_ERROR,\n  FETCH_USER_REQUEST,\n  FETCH_USER_SUCCESS,\n\n  FETCH_USER_ERROR,\n  UPLOAD_IMAGE_REQUEST,\n  UPLOAD_IMAGE_SUCCESS,\n\n  UPLOAD_IMAGE_ERROR,\n} from './../constants';\n\nconst initialState = {\n  isLoading: false,\n  isLoggedIn: false,\n  token: window.localStorage.getItem('token'),\n  user: {},\n  error: '',\n};\n\nexport const userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CLEAR_ERRORS:\n      return {\n        ...state,\n        error: '',\n      };\n\n    case LOGOUT:\n      window.localStorage.setItem('token', '');\n      console.log('ðŸŒ Token removed from Local Storage');\n      return initialState;\n\n    case REGISTER_REQUEST:\n    case LOGIN_REQUEST:\n\n    case FETCH_USER_REQUEST:\n    case UPLOAD_IMAGE_REQUEST:\n\n      return {\n        ...state,\n        isLoading: true,\n      };\n\n    case REGISTER_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        user: { email: action.payload },\n        error: '',\n      };\n\n    case LOGIN_SUCCESS:\n\n      window.localStorage.setItem('token', action.payload);\n      console.log('ðŸŒ Token saved to Local Storage', action.payload);\n\n      return {\n        ...state,\n        isLoading: false,\n        isLoggedIn: true,\n        token: action.payload,\n        error: '',\n      };\n\n    case FETCH_USER_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        isLoggedIn: true,\n        user: action.payload,\n        error: '',\n      };\n\n    case UPLOAD_IMAGE_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        user: {\n          ...state.user,\n          profilePicture: action.payload,\n        },\n        error: '',\n      };\n\n    case REGISTER_ERROR:\n      return {\n        ...state,\n        isLoading: false,\n        user: {},\n        error: action.error,\n      };\n\n    case LOGIN_ERROR:\n    case FETCH_USER_ERROR:\n      \n      window.localStorage.setItem('token', '');\n      console.log('ðŸŒ Token removed from Local Storage');\n\n      return {\n        ...state,\n        isLoading: false,\n        isLoggedIn: false,\n\n        token: '',\n        user: {},\n        error: action.error,\n      };\n\n    case UPLOAD_IMAGE_ERROR:\n      return {\n        ...state,\n        isLoading: false,\n        error: action.error,\n      };\n\n    default:\n      return state;\n  }\n};\n","import {\n  CLEAR_ERRORS,\n  LOGOUT,\n  FETCH_EMAILS_REQUEST,\n\n  FETCH_EMAILS_SUCCESS,\n  FETCH_EMAILS_ERROR,\n  SEND_EMAIL_REQUEST,\n  SEND_EMAIL_SUCCESS,\n\n  SEND_EMAIL_ERROR,\n  SAVE_DRAFT_REQUEST,\n  SAVE_DRAFT_SUCCESS,\n  SAVE_DRAFT_ERROR,\n\n  UPDATE_DRAFT_REQUEST,\n  UPDATE_DRAFT_SUCCESS,\n  UPDATE_DRAFT_ERROR,\n  EMAIL_TRASH_REQUEST,\n\n  EMAIL_TRASH_SUCCESS,\n  EMAIL_TRASH_ERROR,\n  EMAIL_UNTRASH_REQUEST,\n  EMAIL_UNTRASH_SUCCESS,\n\n  EMAIL_UNTRASH_ERROR,\n  TOGGLE_EMAIL_PROP_REQUEST,\n\n  TOGGLE_EMAIL_PROP_SUCCESS,\n  TOGGLE_EMAIL_PROP_ERROR,\n  DELETE_EMAIL_REQUEST,\n  DELETE_EMAIL_SUCCESS,\n\n  DELETE_EMAIL_ERROR,\n} from './../constants';\n\nconst initialState = {\n  isLoading: false,\n  mailbox: {\n    inbox: [],\n    outbox: [],\n\n    drafts: [],\n    trash: [],\n  },\n  error: '',\n};\n\nexport const emailReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CLEAR_ERRORS:\n      return {\n        ...state,\n        error: '',\n      };\n\n    case LOGOUT:\n      return initialState;\n\n    case FETCH_EMAILS_REQUEST:\n    case SEND_EMAIL_REQUEST:\n\n    case SAVE_DRAFT_REQUEST:\n    case UPDATE_DRAFT_REQUEST:\n    case EMAIL_TRASH_REQUEST:\n\n    case EMAIL_UNTRASH_REQUEST:\n    case TOGGLE_EMAIL_PROP_REQUEST:\n\n    case DELETE_EMAIL_REQUEST:\n      return {\n        ...state,\n        isLoading: true,\n      };\n\n    case FETCH_EMAILS_SUCCESS:\n    case EMAIL_TRASH_SUCCESS:\n\n    case EMAIL_UNTRASH_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        mailbox: action.payload,\n        error: '',\n      };\n\n    case SEND_EMAIL_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n\n        mailbox: {\n          ...state.mailbox,\n          outbox: [...state.mailbox.outbox, action.payload.outbox],\n          inbox: [...state.mailbox.inbox, action.payload.inbox],\n        },\n        error: '',\n      };\n\n    case SAVE_DRAFT_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        mailbox: { ...state.mailbox, drafts: [...state.mailbox.drafts, action.payload] },\n        error: '',\n      };\n\n    case UPDATE_DRAFT_SUCCESS:\n      let copyOfDrafts = [...state.mailbox.drafts];\n      for (let i = 0; i < copyOfDrafts.length; i++) {\n        if (copyOfDrafts[i]._id === action.payload._id) {\n          copyOfDrafts[i] = action.payload;\n          break;\n        }\n      }\n      return {\n        ...state,\n        isLoading: false,\n        mailbox: { ...state.mailbox, drafts: copyOfDrafts },\n        error: '',\n      };\n\n    case TOGGLE_EMAIL_PROP_SUCCESS:\n      let copyOfInbox = [...state.mailbox.inbox],\n        copyOfOutbox = [...state.mailbox.outbox],\n        isEmailFound = false;\n      // search inbox\n      if (!isEmailFound)\n        for (let i = 0; i < copyOfInbox.length; i++) {\n          if (copyOfInbox[i]._id === action.payload._id) {\n            copyOfInbox[i] = action.payload;\n            isEmailFound = true;\n            break;\n          }\n        }\n      // search outbox\n      if (!isEmailFound)\n        for (let i = 0; i < copyOfOutbox.length; i++) {\n          if (copyOfOutbox[i]._id === action.payload._id) {\n            copyOfOutbox[i] = action.payload;\n            isEmailFound = true;\n            break;\n          }\n        }\n      return {\n        ...state,\n        isLoading: false,\n        mailbox: { ...state.mailbox, inbox: copyOfInbox, outbox: copyOfOutbox },\n        error: '',\n      };\n\n    case DELETE_EMAIL_SUCCESS:\n      let copyOfTrash = [...state.mailbox.trash],\n        copyOfDrafts2 = [...state.mailbox.drafts],\n        isEmailFound2 = false;\n      for (let i = 0; i < copyOfTrash.length; i++) {\n        if (copyOfTrash[i]._id === action.payload) {\n          copyOfTrash.splice(i, 1);\n          copyOfDrafts2 = true;\n          break;\n        }\n      }\n      if (!isEmailFound2) {\n        for (let i = 0; i < copyOfDrafts2.length; i++) {\n          if (copyOfDrafts2[i]._id === action.payload) {\n            copyOfDrafts2.splice(i, 1);\n            break;\n          }\n        }\n      }\n      return {\n        ...state,\n        isLoading: false,\n        mailbox: { ...state.mailbox, trash: copyOfTrash, drafts: copyOfDrafts2 },\n        error: '',\n      };\n\n    case FETCH_EMAILS_ERROR:\n    case SEND_EMAIL_ERROR:\n    case SAVE_DRAFT_ERROR:\n\n    case UPDATE_DRAFT_ERROR:\n    case EMAIL_TRASH_ERROR:\n\n    case EMAIL_UNTRASH_ERROR:\n    case TOGGLE_EMAIL_PROP_ERROR:\n      \n    case DELETE_EMAIL_ERROR:\n      return {\n        ...state,\n        isLoading: false,\n        error: action.error,\n      };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers, createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\n\nimport { userReducer } from './reducers/userReducer';\nimport { emailReducer } from './reducers/emailReducer';\n\nconst allReducers = combineReducers({\n  userReducer,\n  emailReducer,\n});\n\nexport const store = createStore(allReducers, composeWithDevTools(applyMiddleware(thunk, logger)));\n","import axios from 'axios';\n\nconst url = 'https://gmail-clone-electron-backend-1.vercel.app';\n\nconst headers = (token) => ({\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: 'Bearer ' + token,\n  },\n});\n\n\n\n// account routes\n\nexport const register = (form) => axios.post(`${url}/account/register`, form);\nexport const login = (form) => axios.post(`${url}/account/login`, form);\n\nexport const getUser = (token) => axios.get(`${url}/account`, headers(token));\n\nexport const uploadImage = (token, image) =>\n  axios.put(`${url}/account/image`, image, headers(token));\n\n\n\n// email routes\n\nexport const getAllEmails = (token) => axios.get(`${url}/email`, headers(token));\n\nexport const sendEmail = (token, form) => axios.post(`${url}/email/send`, form, headers(token));\nexport const saveDraft = (token, form) => axios.post(`${url}/email/draft`, form, headers(token));\n\nexport const updateDraft = (token, id, form) =>\n  axios.put(`${url}/email/draft/${id}`, form, headers(token));\n\nexport const moveToTrash = (token, id) =>\n  axios.put(`${url}/email/${id}/trash`, null, headers(token));\n\nexport const removeFromTrash = (token, id) =>\n  axios.put(`${url}/email/${id}/untrash`, null, headers(token));\n\nexport const markAsRead = (token, id) => axios.put(`${url}/email/${id}/read`, null, headers(token));\n\nexport const markAsUnread = (token, id) =>\n  axios.put(`${url}/email/${id}/unread`, null, headers(token));\n\nexport const setFavorite = (token, id) =>\n  axios.put(`${url}/email/${id}/favorite`, null, headers(token));\n\nexport const unsetFavorite = (token, id) =>\n  axios.put(`${url}/email/${id}/unfavorite`, null, headers(token));\n  \nexport const deleteEmail = (token, id) => axios.delete(`${url}/email/${id}`, headers(token));\n","import { CLEAR_ERRORS } from './../constants';\n\nexport const clearErrors = () => {\n  return { type: CLEAR_ERRORS };\n};\n","import { useDispatch } from \"react-redux\";\nimport { loginAction } from \"../../../redux/actions/accountActions\";\n\nimport { clearErrors } from \"../../../redux/actions/clearErrors\";\nimport { useForm } from \"react-hook-form\";\n\nimport styles from \"./styles/Form.module.css\";\nimport { Button, CircularProgress } from \"@material-ui/core\";\n\nimport { useState } from \"react\";\n\n\nexport default function FormLogin({ isLoading, error, user }) {\n\n  const dispatch = useDispatch();\n  const [click, setClick] = useState(false);\n\n  const { register, handleSubmit, errors, formState } = useForm({\n\n    defaultValues: {\n      email: user.email,\n    },\n  });\n\n\n  if (error) {\n    alert(error);\n    setTimeout(() => {\n      dispatch(clearErrors());\n    }, 0);\n  }\n\n\n  const onSubmit = (values) => {\n    dispatch(loginAction(values));\n  };\n\n  if (isLoading) {\n    return (\n      <div>\n        <CircularProgress color=\"secondary\" />\n      </div>\n    );\n  }\n   else {\n    return (\n      <>\n        <form onSubmit={handleSubmit(onSubmit)} className={styles.form}>\n          <input\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"Email\"\n            ref={register({\n              required: true,\n              // eslint-disable-next-line no-useless-escape\n              pattern:\n                /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n            })}\n          />\n\n          <p>{errors.email?.type === \"required\" && \"Email is required\"}</p>\n          <p>{errors.email?.type === \"pattern\" && \"Invalid email\"}</p>\n\n          <input\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            ref={register({\n              required: true,\n              minLength: 7,\n            })}\n          />\n\n          <p>\n            {errors.password?.type === \"required\" && \"Password is required\"}\n          </p>\n\n          <p>\n            {errors.password?.type === \"minLength\" &&\n              \"Must be at least 7 characters\"}\n          </p>\n\n          {click ? (\n            <>\n              {\" \"}\n              <p>Email: user1@gmail.com </p>\n              <p>Password: User@123</p>\n            </>\n\n          ) : null}\n\n          <Button type=\"submit\" disabled={formState.isSubmitting}>\n            Login\n          </Button>\n\n        </form>{\" \"}\n        \n        <Button\n          variant=\"outlined\"\n          color=\"error\"\n          onClick={() => {\n            if (click) {\n              setClick(false);\n            } else {\n              setClick(true);\n            }\n          }}\n        >\n          Credentials for Login\n        </Button>\n      </>\n    );\n  }\n}\n","import {\n  LOGOUT,\n  REGISTER_REQUEST,\n  REGISTER_SUCCESS,\n\n  REGISTER_ERROR,\n  LOGIN_REQUEST,\n\n  LOGIN_SUCCESS,\n  LOGIN_ERROR,\n\n  FETCH_USER_REQUEST,\n  FETCH_USER_SUCCESS,\n\n  FETCH_USER_ERROR,\n  UPLOAD_IMAGE_REQUEST,\n\n  UPLOAD_IMAGE_SUCCESS,\n  UPLOAD_IMAGE_ERROR,\n\n}\n from './../constants';\nimport { register, login, getUser, uploadImage } from './../../api';\n\nexport const logoutAction = () => {\n  return { type: LOGOUT };\n};\n\nexport const registerAction = (form) => async (dispatch) => {\n  dispatch({ type: REGISTER_REQUEST });\n  try {\n    const response = await register(form);\n    dispatch({ type: REGISTER_SUCCESS, payload: response.data.email });\n  } catch (error) {\n    dispatch({ type: REGISTER_ERROR, error: error.response.data.message });\n  }\n};\n\nexport const loginAction = (form) => async (dispatch) => {\n  dispatch({ type: LOGIN_REQUEST });\n  try {\n    const response = await login(form);\n    dispatch({ type: LOGIN_SUCCESS, payload: response.data.token });\n  } catch (error) {\n    dispatch({ type: LOGIN_ERROR, error: error.response.data.message });\n  }\n};\n\nexport const getUserAction = () => async (dispatch, getState) => {\n  dispatch({ type: FETCH_USER_REQUEST });\n  try {\n    const response = await getUser(getState().userReducer.token);\n    dispatch({ type: FETCH_USER_SUCCESS, payload: response.data.user });\n  } catch (error) {\n    dispatch({ type: FETCH_USER_ERROR, error: error.response.data.message });\n  }\n};\n\nexport const uploadImageAction = (image) => async (dispatch, getState) => {\n  dispatch({ type: UPLOAD_IMAGE_REQUEST });\n  try {\n    const response = await uploadImage(getState().userReducer.token, image);\n    dispatch({ type: UPLOAD_IMAGE_SUCCESS, payload: response.data.profilePicture });\n  } catch (error) {\n    dispatch({ type: UPLOAD_IMAGE_ERROR, error });\n  }\n};\n","import { useRef } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { registerAction } from '../../../redux/actions/accountActions';\nimport { clearErrors } from '../../../redux/actions/clearErrors';\n\nimport { useForm } from 'react-hook-form';\nimport styles from './styles/Form.module.css';\n\nimport { Button, CircularProgress } from '@material-ui/core';\n\nexport default function FormRegister({ isLoading, error }) {\n\n  const dispatch = useDispatch();\n  const { register, handleSubmit, errors, watch, formState } = useForm();\n\n  const password = useRef({}); \n\n  password.current = watch('password', '');\n\n  if (error) {\n    alert(error);\n    setTimeout(() => {\n      dispatch(clearErrors());\n    }, 0);\n  }\n\n  const onSubmit = (values) => {\n    dispatch(registerAction(values));\n  };\n\n  if (isLoading) {\n    return (\n      <div>\n        <CircularProgress color='secondary' />\n      </div>\n    );\n  } \n  else {\n    return (\n      <form onSubmit={handleSubmit(onSubmit)} className={styles.form}>\n        <input\n          name='firstName'\n          type='text'\n          placeholder='First name'\n          ref={register({\n            required: true,\n            pattern: /^[a-z ,.'-]+$/i,\n          })}\n        />\n\n        <p>{errors.email?.type === 'required' && 'First name is required'}</p>\n        <p>{errors.firstName?.type === 'pattern' && 'Invalid name'}</p>\n\n        <input\n          name='middleName'\n          type='text'\n          placeholder='Middle name (optional)'\n          ref={register({\n            pattern: /^[a-z ,.'-]+$/i,\n          })}\n        />\n\n        <p>{errors.middleName?.type === 'pattern' && 'Invalid name'}</p>\n\n        <input\n          name='lastName'\n          type='text'\n          placeholder='Last name'\n          ref={register({\n            required: true,\n            pattern: /^[a-z ,.'-]+$/i,\n          })}\n        />\n\n        <p>{errors.email?.type === 'required' && 'Last name is required'}</p>\n        <p>{errors.lastName?.type === 'pattern' && 'Invalid name'}</p>\n\n        <input\n          name='email'\n          type='email'\n          placeholder='Email'\n          ref={register({\n            required: true,\n            pattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n          })}\n        />\n\n        <p>{errors.email?.type === 'required' && 'Email is required'}</p>\n        <p>{errors.email?.type === 'pattern' && 'Invalid email'}</p>\n\n        <input\n          name='password'\n          type='password'\n          placeholder='Password'\n          ref={register({\n            required: true,\n            minLength: 7,\n          })}\n        />\n\n        <p>{errors.password?.type === 'required' && 'Password is required'}</p>\n        <p>{errors.password?.type === 'minLength' && 'Must be at least 7 characters'}</p>\n\n        <input\n          name='passwordConfirm'\n          type='password'\n          placeholder='Confirm Password'\n          ref={register({\n            required: true,\n            validate: (value) => value === password.current,\n          })}\n        />\n        \n        <p>{errors.passwordConfirm?.type === 'required' && 'Password confirmation is required'}</p>\n        <p>{errors.passwordConfirm?.type === 'validate' && 'Passwords do not match'}</p>\n\n        <Button type='submit' disabled={formState.isSubmitting}>\n          Register\n        </Button>\n      </form>\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/gmail.a9ea37fa.svg\";","import { useState, useEffect, Fragment } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport styles from './styles/AuthPage.module.css';\nimport FormLogin from './Form/FormLogin';\n\nimport FormRegister from './Form/FormRegister';\nimport GmailIcon from './images/gmail.svg';\n\nexport default function AuthPage() {\n  const { user, isLoading, error } = useSelector((state) => state.userReducer);\n\n \n  const [isCreateNew, setIsCreateNew] = useState(false);\n  const toggleIsCreateNew = () => setIsCreateNew(!isCreateNew);\n\n\n  useEffect(() => {\n    if (user.email) {\n      toggleIsCreateNew();\n      alert('Account successfully created!');\n    }\n\n    // eslint-disable-next-line\n  }, [user.email]);\n\n  return (\n    <div className={styles.page}>\n      <img src={GmailIcon} alt='Gmail' />\n\n      {isCreateNew ? (\n\n        <Fragment>\n          <FormRegister isLoading={isLoading} error={error} />\n          <button className={styles.link} onClick={toggleIsCreateNew}>\n            Login an existing account\n          </button>\n        </Fragment>\n\n      ) : (\n        \n        <Fragment>\n          <FormLogin isLoading={isLoading} error={error} user={user} />\n          <button className={styles.link} onClick={toggleIsCreateNew}>\n            Create a new account\n          </button>\n        </Fragment>\n      )}\n\n    </div>\n  );\n}\n","import {\n  FETCH_EMAILS_REQUEST,\n  FETCH_EMAILS_SUCCESS,\n  FETCH_EMAILS_ERROR,\n\n  SEND_EMAIL_REQUEST,\n  SEND_EMAIL_SUCCESS,\n  SEND_EMAIL_ERROR,\n  SAVE_DRAFT_REQUEST,\n  SAVE_DRAFT_SUCCESS,\n\n  SAVE_DRAFT_ERROR,\n  UPDATE_DRAFT_REQUEST,\n  UPDATE_DRAFT_SUCCESS,\n  UPDATE_DRAFT_ERROR,\n  EMAIL_TRASH_REQUEST,\n\n  EMAIL_TRASH_SUCCESS,\n  EMAIL_TRASH_ERROR,\n  EMAIL_UNTRASH_REQUEST,\n  EMAIL_UNTRASH_SUCCESS,\n  EMAIL_UNTRASH_ERROR,\n\n  TOGGLE_EMAIL_PROP_REQUEST,\n  TOGGLE_EMAIL_PROP_SUCCESS,\n  TOGGLE_EMAIL_PROP_ERROR,\n\n  DELETE_EMAIL_REQUEST,\n  DELETE_EMAIL_SUCCESS,\n  DELETE_EMAIL_ERROR,\n} \nfrom './../constants';\n\nimport {\n  getAllEmails,\n  sendEmail,\n  saveDraft,\n\n  updateDraft,\n  moveToTrash,\n  removeFromTrash,\n\n  markAsRead,\n  markAsUnread,\n  setFavorite,\n  unsetFavorite,\n\n  deleteEmail,\n}\n from '../../api';\n\nexport const getEmailsAction = () => async (dispatch, getState) => {\n  dispatch({ type: FETCH_EMAILS_REQUEST });\n  try {\n    const response = await getAllEmails(getState().userReducer.token);\n    dispatch({ type: FETCH_EMAILS_SUCCESS, payload: response.data.mailbox });\n  } catch (error) {\n    dispatch({ type: FETCH_EMAILS_ERROR, error });\n  }\n};\n\n\nexport const sendEmailAction = (form) => async (dispatch, getState) => {\n  dispatch({ type: SEND_EMAIL_REQUEST });\n  try {\n    const response = await sendEmail(getState().userReducer.token, form);\n    dispatch({\n      type: SEND_EMAIL_SUCCESS,\n      payload: { outbox: response.data.sent, inbox: response.data.received },\n    });\n  } catch (error) {\n    dispatch({ type: SEND_EMAIL_ERROR, error });\n  }\n};\n\n\nexport const saveDraftAction = (form) => async (dispatch, getState) => {\n  dispatch({ type: SAVE_DRAFT_REQUEST });\n  try {\n    const response = await saveDraft(getState().userReducer.token, form);\n    dispatch({ type: SAVE_DRAFT_SUCCESS, payload: response.data.draft });\n  } catch (error) {\n    dispatch({ type: SAVE_DRAFT_ERROR, error });\n  }\n};\n\n\nexport const updateDraftAction = (id, form) => async (dispatch, getState) => {\n  dispatch({ type: UPDATE_DRAFT_REQUEST });\n  try {\n    const response = await updateDraft(getState().userReducer.token, id, form);\n    dispatch({ type: UPDATE_DRAFT_SUCCESS, payload: response.data.draft });\n  } catch (error) {\n    dispatch({ type: UPDATE_DRAFT_ERROR, error });\n  }\n};\n\n\nexport const moveToTrashAction = (id) => async (dispatch, getState) => {\n  dispatch({ type: EMAIL_TRASH_REQUEST });\n  try {\n    const response = await moveToTrash(getState().userReducer.token, id);\n    dispatch({ type: EMAIL_TRASH_SUCCESS, payload: response.data.mailbox });\n  } catch (error) {\n    dispatch({ type: EMAIL_TRASH_ERROR, error });\n  }\n};\n\n\nexport const removeFromTrashAction = (id) => async (dispatch, getState) => {\n  dispatch({ type: EMAIL_UNTRASH_REQUEST });\n  try {\n    const response = await removeFromTrash(getState().userReducer.token, id);\n    dispatch({ type: EMAIL_UNTRASH_SUCCESS, payload: response.data.mailbox });\n  } catch (error) {\n    dispatch({ type: EMAIL_UNTRASH_ERROR, error });\n  }\n};\n\nexport const markAsReadAction = (id) => async (dispatch, getState) => {\n  dispatch({ type: TOGGLE_EMAIL_PROP_REQUEST });\n  try {\n    const response = await markAsRead(getState().userReducer.token, id);\n    dispatch({ type: TOGGLE_EMAIL_PROP_SUCCESS, payload: response.data.email });\n  } catch (error) {\n    dispatch({ type: TOGGLE_EMAIL_PROP_ERROR, error });\n  }\n};\n\n\nexport const markAsUnreadAction = (id) => async (dispatch, getState) => {\n  dispatch({ type: TOGGLE_EMAIL_PROP_REQUEST });\n  try {\n    const response = await markAsUnread(getState().userReducer.token, id);\n    dispatch({ type: TOGGLE_EMAIL_PROP_SUCCESS, payload: response.data.email });\n  } catch (error) {\n    dispatch({ type: TOGGLE_EMAIL_PROP_ERROR, error });\n  }\n};\n\n\nexport const setFavoriteAction = (id) => async (dispatch, getState) => {\n  dispatch({ type: TOGGLE_EMAIL_PROP_REQUEST });\n  try {\n    const response = await setFavorite(getState().userReducer.token, id);\n    dispatch({ type: TOGGLE_EMAIL_PROP_SUCCESS, payload: response.data.email });\n  } catch (error) {\n    dispatch({ type: TOGGLE_EMAIL_PROP_ERROR, error });\n  }\n};\n\n\nexport const unsetFavoriteAction = (id) => async (dispatch, getState) => {\n  dispatch({ type: TOGGLE_EMAIL_PROP_REQUEST });\n  try {\n    const response = await unsetFavorite(getState().userReducer.token, id);\n    dispatch({ type: TOGGLE_EMAIL_PROP_SUCCESS, payload: response.data.email });\n  } catch (error) {\n    dispatch({ type: TOGGLE_EMAIL_PROP_ERROR, error });\n  }\n};\n\nexport const deleteEmailAction = (id) => async (dispatch, getState) => {\n  dispatch({ type: DELETE_EMAIL_REQUEST });\n  try {\n    const response = await deleteEmail(getState().userReducer.token, id);\n    dispatch({ type: DELETE_EMAIL_SUCCESS, payload: response.data.id });\n  } catch (error) {\n    dispatch({ type: DELETE_EMAIL_ERROR, error });\n  }\n};\n","import { useDispatch } from 'react-redux';\nimport { logoutAction } from '../../../../redux/actions/accountActions';\n\nimport styles from './styles/AccountControls.module.css';\nimport { Avatar, Badge, Button } from '@material-ui/core';\n\nexport default function AccountControls({ user, toggleShowEditImage, toggleShowProfile }) {\n  const dispatch = useDispatch();\n\n  return (\n    <div className={styles.container}>\n\n      <Badge\n        badgeContent='edit'\n        color='secondary'\n        overlap='circle'\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n\n        style={{ cursor: 'pointer' }}\n        onClick={() => {\n          toggleShowEditImage();\n          toggleShowProfile();\n        }}>\n          \n        <Avatar className={styles.avatar} src={user.profilePicture} />\n      </Badge>\n\n      <p>\n        {user.name.first} {user.name.last}\n        <br />\n        {user.email}\n      </p>\n\n      <Button onClick={() => dispatch(logoutAction())}>Logout</Button>\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { uploadImageAction } from '../../../../redux/actions/accountActions';\nimport styles from './styles/EditImageModal.module.css';\n\nimport FileBase64 from 'react-file-base64';\nimport { Avatar, Button } from '@material-ui/core';\n\nexport default function EditImageModal({ toggleShowEditImage }) {\n\n  const dispatch = useDispatch();\n  const [image, setImage] = useState('');\n\n  const upload = (e) => {\n    \n    e.preventDefault();\n    dispatch(uploadImageAction({ image }));\n    toggleShowEditImage();\n  };\n\n  return (\n    <div className={styles.modal}>\n      <form className={styles.form} onSubmit={upload}>\n        <span onClick={toggleShowEditImage}>&times;</span>\n\n        <Avatar className={styles.avatar} src={image.base64} />\n        <p>Select a profile picture (max 10mb)</p>\n        <label>\n          <FileBase64 multiple={false} onDone={(file) => setImage(file)} />\n          Select image\n        </label>\n        <Button type='submit' disabled={!image}>\n          Upload\n        </Button>\n      </form>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport styles from \"./styles/Header.module.css\";\nimport AccountControls from \"./AccountControls/AccountControls\";\n\nimport EditImageModal from \"./EditImageModal/EditImageModal\";\nimport { IconButton, Avatar } from \"@material-ui/core\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport AppsIcon from \"@material-ui/icons/Apps\";\nimport NotificationsRoundedIcon from \"@material-ui/icons/NotificationsRounded\";\n\nexport default function Header({ toggleShowSidebar }) {\n  const { user } = useSelector((state) => state.userReducer);\n\n  const [showProfile, setShowProfile] = useState(false);\n  const [showEditImage, setShowEditImage] = useState(false);\n\n  const toggleShowProfile = () => setShowProfile(!showProfile);\n  const toggleShowEditImage = () => setShowEditImage(!showEditImage);\n\n  return (\n    <header className={styles.container}>\n      <div className={styles.side}>\n\n        <IconButton onClick={toggleShowSidebar}>\n          <MenuIcon />\n        </IconButton>\n        <img\n          src=\"https://res.cloudinary.com/dgrkhvtdv/image/upload/v1676385553/ecom_imgs/gmail-logo_fke08f.png\"\n          alt=\"gmail logo\"\n        />\n      </div>\n\n\n      <div className={styles.middle}>\n        <IconButton>\n          <SearchIcon />\n        </IconButton>\n        <input type=\"text\" placeholder=\"Search mail\" />\n      </div>\n\n\n      <div className={styles.side + \" \" + styles.relative}>\n        <IconButton>\n          <AppsIcon />\n        </IconButton>\n        <IconButton>\n          \n          <NotificationsRoundedIcon />\n        </IconButton>\n        <IconButton onClick={toggleShowProfile}>\n          <Avatar src={user.profilePicture} />\n        </IconButton>\n\n        {showProfile && (\n          <AccountControls\n            user={user}\n            toggleShowProfile={toggleShowProfile}\n            toggleShowEditImage={toggleShowEditImage}\n          />\n        )}\n        {showEditImage && (\n          <EditImageModal toggleShowEditImage={toggleShowEditImage} />\n        )}\n      </div>\n    </header>\n  );\n}\n","import styles from './styles/SidebarOption.module.css';\n\nexport default function SidebarOption({ Icon, title, number, selected, onClick, className }) {\n\n  return (\n    <div className={`${styles.item} ${selected && styles.active} ${className}`} onClick={onClick}>\n      <Icon fontSize='large' />\n\n      <h3>{title}</h3>\n      \n      <p>{number}</p>\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport styles from './styles/Sidebar.module.css';\nimport SidebarOption from './SidebarOption/SidebarOption';\n\nimport { Button } from '@material-ui/core';\nimport AddRoundedIcon from '@material-ui/icons/Add';\n\nimport InboxRoundedIcon from '@material-ui/icons/Inbox';\nimport StarRoundedIcon from '@material-ui/icons/Star';\n\nimport SendRoundedIcon from '@material-ui/icons/Send';\nimport NoteRoundedIcon from '@material-ui/icons/Note';\n\nimport DeleteRoundedIcon from '@material-ui/icons/Delete';\nimport ExpandMoreRoundedIcon from '@material-ui/icons/ExpandMoreRounded';\n\n\nexport default function Sidebar({\n\n  toggleIsCompose,\n  inboxLength,\n  sentLength,\n\n  starredLength,\n  draftsLength,\n  trashLength,\n}) {\n  const history = useHistory();\n  const location = useLocation();\n\n  const [showMore, setShowMore] = useState(false);\n  const toggleShowMore = () => setShowMore(!showMore);\n\n  return (\n    <div className={styles.container}>\n      \n      <Button\n        className={styles.compose}\n        onClick={() => toggleIsCompose()}\n        startIcon={<AddRoundedIcon fontSize='large' />}>\n        Compose\n      </Button>\n\n      <SidebarOption\n        Icon={InboxRoundedIcon}\n        title='Inbox'\n        number={inboxLength}\n        onClick={() => history.push('/email/inbox')}\n        selected={location.pathname === '/email/inbox'}\n      />\n      <SidebarOption\n        Icon={StarRoundedIcon}\n        title='Starred'\n        number={starredLength}\n        onClick={() => history.push('/email/starred')}\n        selected={location.pathname === '/email/starred'}\n      />\n\n      <SidebarOption\n        Icon={NoteRoundedIcon}\n        title='Drafts'\n        number={draftsLength}\n        onClick={() => history.push('/email/drafts')}\n        selected={location.pathname === '/email/drafts'}\n      />\n\n      <SidebarOption\n        Icon={SendRoundedIcon}\n        title='Sent'\n        number={sentLength}\n        onClick={() => history.push('/email/sent')}\n        selected={location.pathname === '/email/sent'}\n      />\n\n      <SidebarOption\n        Icon={ExpandMoreRoundedIcon}\n        title='More'\n        number={''}\n        onClick={toggleShowMore}\n        className={showMore ? styles.showMore__on : styles.showMore__off}\n      />\n\n      {showMore && (\n        <>\n          <SidebarOption\n            Icon={DeleteRoundedIcon}\n            title='Trash'\n            number={trashLength}\n            onClick={() => history.push('/email/trash')}\n            selected={location.pathname === '/email/trash'}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n","import { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport {\n  getEmailsAction,\n  moveToTrashAction,\n\n  removeFromTrashAction,\n  markAsUnreadAction,\n\n  setFavoriteAction,\n  unsetFavoriteAction,\n\n  deleteEmailAction,\n\n} \nfrom '../../../redux/actions/emailActions';\nimport styles from './styles/EmailOptions.module.css';\n\nimport { Checkbox, IconButton, Tooltip } from '@material-ui/core';\n\nimport KeyboardRoundedIcon from '@material-ui/icons/KeyboardRounded';\nimport ArrowBackRoundedIcon from '@material-ui/icons/ArrowBackRounded';\n\nimport RefreshRoundedIcon from '@material-ui/icons/RefreshRounded';\nimport DraftsRoundedIcon from '@material-ui/icons/DraftsRounded';\n\nimport StarRoundedIcon from '@material-ui/icons/StarRounded';\nimport StarOutlineRoundedIcon from '@material-ui/icons/StarOutlineRounded';\n\nimport DeleteRoundedIcon from '@material-ui/icons/DeleteRounded';\nimport RestoreFromTrashRoundedIcon from '@material-ui/icons/RestoreFromTrashRounded';\n\nimport DeleteForeverRoundedIcon from '@material-ui/icons/DeleteForeverRounded';\nimport MoreVertRoundedIcon from '@material-ui/icons/MoreVertRounded';\n\n\nexport default function EmailOptions(props) {\n  \n  return (\n    <div className={styles.component}>\n      <div className={styles.wrapper}>\n       \n        {props.children}\n      </div>\n\n      <div className={styles.wrapper}>\n\n        <Tooltip title='null'>\n          <IconButton>\n            <KeyboardRoundedIcon />\n          </IconButton>\n        </Tooltip>\n      </div>\n    </div>\n  );\n}\n\nexport function SelectOne() {\n \n  return (\n    <Tooltip\n   \n      title='null'>\n      <Checkbox />\n    </Tooltip>\n  );\n}\n\nexport function SelectAll() {\n \n  return (\n    <Tooltip\n      title='null'>\n      <Checkbox />\n    </Tooltip>\n  );\n}\n\nexport function GoBack() {\n  const history = useHistory();\n  return (\n    <Tooltip title='Back'>\n      <IconButton onClick={() => history.goBack()}>\n        <ArrowBackRoundedIcon />\n      </IconButton>\n    </Tooltip>\n  );\n}\n\nexport function Refetch() {\n  const dispatch = useDispatch();\n  return (\n    <Tooltip title='Refresh'>\n      <IconButton onClick={() => dispatch(getEmailsAction())}>\n        <RefreshRoundedIcon />\n      </IconButton>\n    </Tooltip>\n  );\n}\n\nexport function MarkUnread({ id }) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  return (\n    <Tooltip title='Mark as unread'>\n      <IconButton\n        onClick={() => {\n          dispatch(markAsUnreadAction(id));\n          history.goBack();\n        }}>\n        <DraftsRoundedIcon />\n      </IconButton>\n    </Tooltip>\n  );\n}\n\nexport function MarkStar({ id, isStarred }) {\n  const dispatch = useDispatch();\n  if (isStarred) {\n    return (\n      <Tooltip title='Unfavorite'>\n        <IconButton onClick={() => dispatch(unsetFavoriteAction(id))}>\n          <StarRoundedIcon />\n        </IconButton>\n      </Tooltip>\n    );\n  } else {\n    return (\n      <Tooltip title='Favorite'>\n        <IconButton onClick={() => dispatch(setFavoriteAction(id))}>\n          <StarOutlineRoundedIcon />\n        </IconButton>\n      </Tooltip>\n    );\n  }\n}\n\nexport function PlaceTrash({ id, isInTrash }) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  if (isInTrash) {\n    return (\n      <Tooltip title='Not trash'>\n        <IconButton\n          onClick={() => {\n            dispatch(removeFromTrashAction(id));\n            history.goBack();\n          }}>\n          <RestoreFromTrashRoundedIcon />\n        </IconButton>\n      </Tooltip>\n    );\n  } else {\n    return (\n      <Tooltip title='Move to trash'>\n        <IconButton\n          onClick={() => {\n            dispatch(moveToTrashAction(id));\n            history.goBack();\n          }}>\n          <DeleteRoundedIcon />\n        </IconButton>\n      </Tooltip>\n    );\n  }\n}\n\nexport function Delete({ id }) {\n  const dispatch = useDispatch();\n  return (\n    <Tooltip title='Delete'>\n      <IconButton onClick={() => dispatch(deleteEmailAction(id))}>\n        <DeleteForeverRoundedIcon />\n      </IconButton>\n    </Tooltip>\n  );\n}\n\nexport function More() {\n  return (\n    <Tooltip\n      title='null'>\n      <IconButton>\n        <MoreVertRoundedIcon />\n      </IconButton>\n    </Tooltip>\n  );\n}\n","import { useHistory, useParams } from 'react-router-dom';\nimport styles from './styles/EmailListItem.module.css';\n\nimport { Delete, MarkStar, SelectOne } from '../../EmailOptions/EmailOptions';\n\nexport default function EmailCategoryItem({\n  id,\n  title,\n  subject,\n  message,\n  date,\n  isRead,\n  isStarred,\n  isTrash,\n  isDraft,\n  toggleIsCompose,\n}) {\n  const history = useHistory();\n  const { category } = useParams();\n\n  const dateToString = (dateObj) => {\n    let day = new Date(dateObj).getDate();\n    let month = new Date(dateObj).getMonth();\n    switch (month) {\n      case 0:\n        return `Jan ${day}`;\n      case 1:\n        return `Feb ${day}`;\n      case 2:\n        return `Mar ${day}`;\n      case 3:\n        return `Apr ${day}`;\n      case 4:\n        return `May ${day}`;\n      case 5:\n        return `Jun ${day}`;\n      case 6:\n        return `Jul ${day}`;\n      case 7:\n        return `Aug ${day}`;\n      case 8:\n        return `Sep ${day}`;\n      case 9:\n        return `Oct ${day}`;\n      case 10:\n        return `Nov ${day}`;\n      case 11:\n        return `Dec ${day}`;\n      default:\n        return 'Loading...';\n    }\n  };\n\n  return (\n    <div className={`${styles.item} ${isRead || isTrash || isDraft ? styles.read : styles.unread}`}>\n      <SelectOne />\n      {isStarred !== undefined && <MarkStar id={id} isStarred={isStarred} />}\n      {isTrash || isDraft ? <Delete id={id} /> : ''}\n\n      <div\n        className={styles.message}\n        onClick={() =>\n          isDraft ? toggleIsCompose(id) : history.push(`/email/${category}/view/${id}`)\n        }>\n        <h4>{title}</h4>\n        &nbsp;&nbsp;\n        <p>\n          <span>{subject}</span>\n          &nbsp;&nbsp;\n          {message}\n        </p>\n        &nbsp;&nbsp;\n        <span>{dateToString(date)}</span>\n      </div>\n    </div>\n  );\n}\n","import { Fragment } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { useSelector } from 'react-redux';\nimport styles from './styles/EmailCategory.module.css';\n\nimport EmailOptions, { More, Refetch, SelectAll } from '../EmailOptions/EmailOptions';\nimport EmailListItem from './EmailListItem/EmailListItem';\n\nimport { CircularProgress } from '@material-ui/core';\n\nexport default function EmailCategory({ inbox, sent, drafts, starred, trash, toggleIsCompose }) {\n\n  const { category } = useParams();\n  const { isLoading } = useSelector((state) => state.emailReducer);\n\n  const userEmail = useSelector((state) => state.userReducer.user.email);\n\n  if (isLoading) {\n    return (\n      <div className={styles.center}>\n        <CircularProgress color='secondary' />\n      </div>\n    );\n  } \n  else {\n    switch (category) {\n      case 'inbox':\n        \n        return inbox.length ? (\n          <Fragment>\n            <EmailOptions>\n              <SelectAll />\n              <Refetch />\n              <More />\n            </EmailOptions>\n\n            {inbox.map((item) => (\n              <EmailListItem\n                key={item._id}\n                id={item._id}\n                title={item.from}\n                subject={item.subject}\n                message={item.message}\n                date={item.createdAt}\n                isRead={item.read}\n                isStarred={item.favorite}\n              />\n            ))}\n          </Fragment>\n        ) : (\n          <div className={styles.center}>Inbox is empty...</div>\n        );\n\n      case 'sent':\n        return sent.length ? (\n          <Fragment>\n            <EmailOptions>\n              <SelectAll />\n              <Refetch />\n              <More />\n            </EmailOptions>\n\n            {sent.map((item) => (\n              <EmailListItem\n                key={item._id}\n                id={item._id}\n                title={`To: ${item.to}`}\n                subject={item.subject}\n                message={item.message}\n                date={item.createdAt}\n                isRead={item.read}\n                isStarred={item.favorite}\n              />\n            ))}\n          </Fragment>\n        ) : (\n          <div className={styles.center}>Outbox is empty...</div>\n        );\n\n      case 'starred':\n        return starred.length ? (\n          <Fragment>\n            <EmailOptions>\n              <SelectAll />\n              <Refetch />\n              <More />\n            </EmailOptions>\n\n            {starred.map((item) => (\n              <EmailListItem\n                key={item._id}\n                id={item._id}\n                title={item.from === userEmail ? 'me' : item.from}\n                subject={item.subject}\n                message={item.message}\n                date={item.createdAt}\n                isRead={item.read}\n                isStarred={true}\n              />\n            ))}\n          </Fragment>\n        ) : (\n          <div className={styles.center}>Favorites is empty...</div>\n        );\n\n      case 'drafts':\n        return drafts.length ? (\n          <Fragment>\n            <EmailOptions>\n              <SelectAll />\n              <Refetch />\n              <More />\n            </EmailOptions>\n\n            {drafts.map((item) => (\n              <EmailListItem\n                key={item._id}\n                id={item._id}\n                title='Draft'\n                subject={item.subject}\n                message={item.message}\n                date={item.updatedAt}\n                isDraft={true}\n                toggleIsCompose={toggleIsCompose}\n              />\n            ))}\n          </Fragment>\n        ) : (\n          <div className={styles.center}>Drafts is empty...</div>\n        );\n\n      case 'trash':\n        return trash.length ? (\n          <Fragment>\n            <EmailOptions>\n              <SelectAll />\n              <Refetch />\n              <More />\n            </EmailOptions>\n\n            {trash.map((item) => (\n              <EmailListItem\n                key={item._id}\n                id={item._id}\n                title={item.from === userEmail ? 'me' : item.from}\n                subject={item.subject}\n                message={item.message}\n                date={item.createdAt}\n                isTrash={true}\n              />\n            ))}\n          </Fragment>\n        ) : (\n          <div className={styles.center}>Trash is empty...</div>\n        );\n\n      default:\n        break;\n    }\n  }\n}\n","import { useState, useEffect, Fragment } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { useDispatch } from 'react-redux';\nimport { markAsReadAction } from '../../../redux/actions/emailActions';\n\nimport styles from './styles/EmailView.module.css';\nimport EmailOptions, { Delete, GoBack, MarkUnread, PlaceTrash } from '../EmailOptions/EmailOptions';\n\nimport { Avatar } from '@material-ui/core';\n\n\nexport default function EmailView({ inbox, sent, drafts, starred, trash }) {\n\n  const dispatch = useDispatch();\n  const { category, id } = useParams();\n\n  const [emailToDisplay] = useState(() => {\n    switch (category) {\n      case 'inbox':\n        return inbox.find((item) => item._id === id);\n\n      case 'sent':\n        return sent.find((item) => item._id === id);\n\n      case 'drafts':\n        return drafts.find((item) => item._id === id);\n\n      case 'starred':\n        return starred.find((item) => item._id === id);\n\n      case 'trash':\n        return trash.find((item) => item._id === id);\n\n      default:\n        break;\n    }\n  });\n\n  useEffect(() => {\n    \n    if (!emailToDisplay.read) dispatch(markAsReadAction(id));\n  }, [dispatch, emailToDisplay, id]);\n\n  return (\n    <Fragment>\n      <EmailOptions>\n        <GoBack />\n        <PlaceTrash id={id} isInTrash={category === 'trash'} />\n        {category === 'trash' ? <Delete /> : <MarkUnread id={id} />}\n      </EmailOptions>\n\n      <div className={styles.wrapper}>\n        <div className={styles.container}>\n          <h3>{emailToDisplay.subject}</h3>\n          <div>\n            <Avatar className={styles.avatar} />\n            {emailToDisplay.from}\n            <br />\n            to me\n          </div>\n          <p>{emailToDisplay.message}</p>\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n","import { useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport {\n  sendEmailAction,\n  saveDraftAction,\n  updateDraftAction,\n\n}\n from '../../../redux/actions/emailActions';\nimport { useForm } from 'react-hook-form';\n\nimport { Button } from '@material-ui/core';\nimport styles from './styles/ComposeMail.module.css';\n\n\nfunction ComposeMail({ toggleIsCompose, composeDraft }) {\n  const dispatch = useDispatch();\n\n  const registeredEmail = useSelector((state) => state.userReducer.user.email);\n  const { register, handleSubmit, errors, watch } = useForm({\n\n    defaultValues: {\n      from: registeredEmail,\n      to: composeDraft?.to || '',\n      subject: composeDraft?.subject || '',\n      message: composeDraft?.message || '',\n    },\n  });\n\n  const from = useRef({});\n  const to = useRef({});\n\n  const subject = useRef({});\n  const message = useRef({});\n\n  from.current = watch('from', '');\n  to.current = watch('to', '');\n\n  subject.current = watch('subject', '');\n  message.current = watch('message', '');\n\n\n  const onSubmit = (values) => {\n\n    if (!composeDraft) {\n      dispatch(sendEmailAction(values));\n    } else {\n\n\n      // then the email is sent, and the draft is updated too!\n      dispatch(sendEmailAction(values));\n\n      let form = {\n        to: to.current,\n        subject: subject.current,\n        message: message.current,\n      };\n      dispatch(updateDraftAction(composeDraft._id, form));\n    }\n    toggleIsCompose();\n  };\n\n\n  const onClose = () => {\n    if (!composeDraft) {\n\n      if (to.current !== '' || subject.current !== '' || message.current !== '') {\n\n        let form = {\n          from: from.current,\n          to: to.current,\n          subject: subject.current,\n          message: message.current,\n        };\n\n        dispatch(saveDraftAction(form));\n\n      }\n    } \n    else {\n      let form = {\n        to: to.current,\n        subject: subject.current,\n        message: message.current,\n      };\n\n      dispatch(updateDraftAction(composeDraft._id, form));\n    }\n    toggleIsCompose();\n  };\n\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className={styles.compose}>\n      <div className={styles.header}>\n        <h5>New Message</h5>\n        <span onClick={onClose}>&times;</span>\n      </div>\n\n      <div className={styles.inpGroup}>\n        <label htmlFor='from'>From:</label>\n        <input\n          name='from'\n          id='from'\n          type='email'\n          ref={register({\n            required: true,\n            // eslint-disable-next-line no-useless-escape\n            pattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n          })}\n          readOnly\n        />\n      </div>\n\n      <div className={styles.inpGroup}>\n        <label htmlFor='to'>To:</label>\n        <input\n          name='to'\n          id='to'\n          type='email'\n          ref={register({\n            required: true,\n            // eslint-disable-next-line no-useless-escape\n            pattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n          })}\n        />\n      </div>\n\n      <div className={styles.inpGroup}>\n        <label htmlFor='subject'>Subject:</label>\n        <input\n          name='subject'\n          id='subject'\n          type='text'\n          ref={register({\n            required: true,\n          })}\n        />\n      </div>\n\n      <textarea\n        name='message'\n        ref={register({\n          required: true,\n        })}\n      />\n\n      <div className={styles.send}>\n        <Button type='submit'>Send</Button>\n\n        <span>\n          <p>{errors.to?.type === 'required' && 'Recipient is required'}</p>\n          <p>{errors.to?.type === 'pattern' && 'Invalid email'}</p>\n          \n          <p>{errors.subject?.type === 'required' && 'Subject is required'}</p>\n          <p>{errors.message?.type === 'required' && 'Email message is required'}</p>\n        </span>\n      </div>\n    </form>\n  );\n}\n\nexport default ComposeMail;\n","import { Fragment, useState, useEffect } from 'react';\nimport { Route } from 'react-router-dom';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getEmailsAction } from '../../redux/actions/emailActions';\n\nimport styles from './styles/EmailPage.module.css';\nimport Header from './Header/Header';\n\nimport Sidebar from './Sidebar/Sidebar';\nimport EmailCategory from './EmailCategory/EmailCategory';\n\nimport EmailView from './EmailView/EmailView';\nimport ComposeMail from './ComposeMail/ComposeMail';\n\nexport default function EmailPage() {\n\n  const dispatch = useDispatch();\n  const mailbox = useSelector((state) => state.emailReducer.mailbox);\n\n  const [inbox, setInbox] = useState([]);\n  const [sent, setSent] = useState([]);\n\n  const [starred, setStarred] = useState([]);\n  const [drafts, setDrafts] = useState([]);\n\n  const [trash, setTrash] = useState([]);\n\n\n  useEffect(() => {\n    dispatch(getEmailsAction());\n  },\n   [dispatch]);\n\n  useEffect(() => {\n \n    let inboxArr = [...mailbox.inbox],\n      sentArr = [...mailbox.outbox],\n\n      draftsArr = [...mailbox.drafts],\n      trashArr = [...mailbox.trash],\n\n      starredArr = mailbox.inbox\n        .filter((email) => email.favorite)\n\n        .concat(mailbox.outbox.filter((email) => email.favorite));\n\n    inboxArr.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n    sentArr.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n\n    draftsArr.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n    trashArr.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n\n    starredArr.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n\n\n    // update states with changes\n    setInbox(inboxArr);\n    setSent(sentArr);\n\n    setDrafts(draftsArr);\n    setTrash(trashArr);\n    setStarred(starredArr);\n\n  }, [mailbox]);\n\n  const [showSidebar, setShowSidebar] = useState(true);\n  const [isCompose, setIsCompose] = useState(false);\n \n  const [composeDraft, setComposeDraft] = useState(undefined);\n\n  const toggleShowSidebar = () => setShowSidebar(!showSidebar);\n  const toggleIsCompose = (id) => {\n    setIsCompose(!isCompose);\n\n\n    \n    // if activated by clicking a draft, set draft details in state\n    if (id) {\n      drafts.forEach((draft) => draft._id === id && setComposeDraft(draft));\n    } else {\n      setComposeDraft(undefined);\n    }\n  };\n\n  return (\n    <Fragment>\n      <Header toggleShowSidebar={toggleShowSidebar} />\n\n      <main className={styles.main}>\n        {showSidebar && (\n          <Sidebar\n            toggleIsCompose={toggleIsCompose}\n            inboxLength={inbox.length}\n            sentLength={sent.length}\n            starredLength={starred.length}\n            draftsLength={drafts.length}\n            trashLength={trash.length}\n          />\n        )}\n\n        <div className={styles.container} >\n          <Route exact path='/email/:category'>\n            <EmailCategory\n              inbox={inbox}\n              sent={sent}\n              starred={starred}\n              drafts={drafts}\n              trash={trash}\n              toggleIsCompose={toggleIsCompose}\n            />\n          </Route>\n\n          <Route path='/email/:category/view/:id'>\n            <EmailView inbox={inbox} sent={sent} drafts={drafts} starred={starred} trash={trash} />\n          </Route>\n        </div>\n\n        {isCompose && <ComposeMail toggleIsCompose={toggleIsCompose} composeDraft={composeDraft} />}\n      </main>\n    </Fragment>\n  );\n}\n","import { useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getUserAction } from './redux/actions/accountActions';\n\nimport './styles/App.css';\nimport AuthPage from './components/AuthPage/AuthPage';\n\nimport EmailPage from './components/EmailPage/EmailPage';\n\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  const { isLoggedIn, token } = useSelector((state) => state.userReducer);\n\n\n  useEffect(() => {\n\n    if (token) {\n      dispatch(getUserAction());\n\n    }\n  }, [token, dispatch]);\n\n  return (\n    <Router>\n      <div className='App'>\n        \n        <Switch>\n          <Route exact path='/'>\n            {!isLoggedIn ? <Redirect to='/account' /> : <Redirect to='/email/inbox' />}\n          </Route>\n\n          <Route exact path='/account'>\n            {!isLoggedIn ? <AuthPage /> : <Redirect to='/email/inbox' />}\n          </Route>\n\n          <Route path='/email'>\n            {isLoggedIn ? <EmailPage /> : <Redirect to='/account' />}\n          </Route>\n\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\n\nimport './styles/reset.css';\nimport App from './App';\n\nReactDOM.render(\n  // <React.StrictMode>\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  // </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"center\":\"EmailCategory_center__mLSDp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"compose\":\"ComposeMail_compose__1msep\",\"header\":\"ComposeMail_header__3WXQh\",\"inpGroup\":\"ComposeMail_inpGroup__1fD47\",\"send\":\"ComposeMail_send__3lqbo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Header_container__5JWqH\",\"side\":\"Header_side__3RGL4\",\"middle\":\"Header_middle__2668m\",\"relative\":\"Header_relative__3kCza\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Sidebar_container__1Ayy3\",\"compose\":\"Sidebar_compose__1IK0x\",\"showMore__on\":\"Sidebar_showMore__on__2qTCJ\",\"showMore__off\":\"Sidebar_showMore__off__9CFl2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"EmailListItem_item__FgYv9\",\"message\":\"EmailListItem_message__2_YBf\",\"unread\":\"EmailListItem_unread__3v6AP\",\"read\":\"EmailListItem_read__3xBf4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__3QCL9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"AuthPage_page__9Hrvy\",\"link\":\"AuthPage_link__2BeDi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"EditImageModal_modal__2qqU6\",\"form\":\"EditImageModal_form__288cX\",\"avatar\":\"EditImageModal_avatar__3zkRS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"EmailOptions_component__3BgpY\",\"wrapper\":\"EmailOptions_wrapper__3vCWh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"EmailView_wrapper__bzoai\",\"container\":\"EmailView_container__39mvy\",\"avatar\":\"EmailView_avatar__15ALI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"EmailPage_main__25tBK\",\"container\":\"EmailPage_container__3OxYr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AccountControls_container__28bi0\",\"avatar\":\"AccountControls_avatar__1tF1h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"SidebarOption_item__1HYHP\",\"active\":\"SidebarOption_active__1Y6yU\"};"],"sourceRoot":""}